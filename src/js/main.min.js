"use strict";function likeToggle(e){e.classList.toggle("active"),e.classList.contains("active")?e.innerHTML=heart:e.innerHTML=emptyHeart}!function(){var e=function(e,t){var n="",o=void 0,i=void 0;for(o=0;o<e.length;o++)i=0===o?"active":"",n+='<a class="link nav__item '+i+'" href="'+e[o].href+'">'+e[o].name+"</a>";for(var a=0;a<t.length;a++)t[a].innerHTML=n};document.addEventListener("DOMContentLoaded",function(){var t=document.querySelector(".hamburger"),n=document.querySelector(".header"),o=document.querySelectorAll("nav");t.addEventListener("click",function(){n.classList.toggle("open")});var i=new XMLHttpRequest;i.onreadystatechange=function(){if(4==this.readyState&&200==this.status){var t=JSON.parse(this.responseText);e(t.links,o)}},i.open("GET","data/navigation.json",!0),i.send()})}();var schools=[],heart='<svg class="icon-heart"><use xlink:href="#heart"></use></svg>',emptyHeart='<svg class="icon-heart-empty"><use xlink:href="#heart-empty"></use></svg>',drawSchools=function(e,t,n){var o="",i=void 0;if(e.length)for(i=0;i<e.length;i++){var a=function(e){e=Math.round(2*e)/2;for(var t=[],n=e;n>=1;n--)t.push('<svg class="icon-star"><use xlink:href="#star"></use></svg>');for(var o=5-e;o>=1;o--)t.push('<svg class="icon-star icon-star--empty"><use xlink:href="#star"></use></svg>');return t.join("")},r=Math.round(parseFloat(e[i].rating));o+='<div class="col-6 col-md-12"><article class="article"><figure class="figure"><img class="article__thumbnail" src="'+e[i].img+'" alt=""></figure><div class="article__content"><h2 class="article__title">'+e[i].title+'</h2><div class="article__group article__group--accent"><div class="article__rating"><span class="article__rating-value">'+e[i].rating+"</span>"+a(r)+'</div><div class="article__private">'+e[i].private+'</div></div><div class="article__category">'+e[i].info+'</div><hr class="line"><div class="article__field">'+e[i].hours+'</div><div class="article__group"><div class="article__address">'+e[i].address+'</div><svg class="icon-direction"><use xlink:href="#direction"></use></svg></div><div class="article__field article__group--main">'+e[i].phone+'</div><div class="article__group"><div>$'+e[i].price+" "+e[i].prices+'</div><div class="article__like" onclick="likeToggle(this)">'+emptyHeart+"</div></div></div></article></div>"}else o='<div class="empty-result"> Not found </div>';t.innerHTML=o,n.innerHTML=e.length};document.addEventListener("DOMContentLoaded",function(){var e=document.getElementById("schools"),t=document.getElementById("result"),n=(document.querySelectorAll(".article__like"),document.getElementById("filter").elements),o=document.querySelectorAll(".left-appear, .right-appear"),i=new XMLHttpRequest;i.open("GET","data/schools.json",!0),i.send(),i.onreadystatechange=function(){if(4==this.readyState&&200==this.status){var o=JSON.parse(this.responseText);schools=o.schools,schoolsClone=schools.slice(),filter(n),drawSchools(schoolsClone,e,t)}};for(var a=0;a<o.length;a++)o[a].classList.add("active")}),function(){document.addEventListener("DOMContentLoaded",function(){var e=document.getElementById("search-input"),t=void 0;e.addEventListener("focus",function(){t=this.value,this.value="",this.placeholder="Search for location, street, bus stop, etc."}),e.addEventListener("blur",function(){this.value||(this.value=t),this.placeholder=""})})}(),function(){document.addEventListener("DOMContentLoaded",function(){function e(){this.classList.toggle("collapsed"),v?(v=!1,g.nextElementSibling.style.height="0px"):(v=!0,g.nextElementSibling.style.height=m+"px")}var t=document.getElementById("range-price"),n=document.getElementById("range-price-value1"),o=document.getElementById("range-price-value2"),i=document.getElementById("range-hours"),a=document.getElementById("range-hours-value1"),r=document.getElementById("range-hours-value2"),s=document.getElementById("range-location"),c=document.getElementById("range-location-value"),l=document.getElementById("range-location-time"),d=document.getElementById("range-age"),u=document.getElementById("range-age-value"),g=document.querySelector(".collapse"),v=!0,m=g.nextElementSibling.offsetHeight;g.nextElementSibling.style.height=m+"px",g.addEventListener("click",e),noUiSlider.create(t,{start:[300,500],connect:!0,range:{min:0,max:1e3}}),noUiSlider.create(i,{start:[8,17],connect:!0,range:{min:0,max:24}}),noUiSlider.create(s,{start:3,animate:!1,connect:[!0,!1],snap:!1,range:{min:0,max:100}}),noUiSlider.create(d,{start:4,animate:!1,connect:[!0,!1],snap:!1,range:{min:0,max:14}}),d.noUiSlider.on("update",function(e,t){u.innerHTML=Math.round(e[t])}),s.noUiSlider.on("update",function(e,t){c.innerHTML=Math.round(e[t]),l.innerHTML=3*Math.round(e[t])});var h=[a,r];i.noUiSlider.on("update",function(e,t){Math.round(e[t])>12?h[t].innerHTML=Math.round(e[t])-12+":00 PM":h[t].innerHTML=Math.round(e[t])+":00 AM"});var f=[n,o];t.noUiSlider.on("update",function(e,t){f[t].innerHTML=Math.round(e[t])})})}();var sortByMin=function(e){return function(t,n){return 1*(t[e]>n[e]?-1:t[e]<n[e]?1:0)}},sortByMax=function(e){return function(t,n){return 1*(t[e]<n[e]?-1:t[e]>n[e]?1:0)}};document.addEventListener("DOMContentLoaded",function(){for(var e=document.querySelectorAll(".select-by"),t=document.getElementById("schools"),n=document.getElementById("result"),o=!1,i=0;i<e.length;i++)e[i].addEventListener("click",function(){this.classList.toggle("active");var e=this.innerHTML;o?(schoolsClone.sort(sortByMax(e)),o=!1):(schoolsClone.sort(sortByMin(e)),o=!0),drawSchools(schoolsClone,t,n)})});var schoolsClone=void 0,filter=function(e){schoolsClone=schools.slice();for(var t=0,n=e.length;t<n;t++)e[t].checked&&function(){var n=e[t];schoolsClone=schoolsClone.filter(function(e){return e[n.name].indexOf(n.value)>-1})}()};document.addEventListener("DOMContentLoaded",function(){var e=document.getElementById("filter"),t=(document.getElementById("range-location"),document.querySelector(".mobile-filter")),n=document.querySelector(".filter-menu"),o=document.querySelector(".filter-back"),i=document.getElementById("schools"),a=document.getElementById("result"),r=e.elements;n.addEventListener("click",function(){t.classList.add("open")}),o.addEventListener("click",function(){t.classList.remove("open")});for(var s=0,c=r.length;s<c;s++)r[s].addEventListener("click",function(){filter(r),drawSchools(schoolsClone,i,a),initMap()})});var initGeoLocation=function(){function e(e,t,n){t.setPosition(n),t.setContent(e?"Error: The Geolocation service failed.":"Error: Your browser doesn't support geolocation.")}var t=new google.maps.Map(document.getElementById("google-map"),{center:{lat:50.5025888,lng:30.600366500000064},zoom:10}),n=new google.maps.InfoWindow({map:t});navigator.geolocation?navigator.geolocation.getCurrentPosition(function(e){var o={lat:e.coords.latitude,lng:e.coords.longitude};n.setPosition(o),n.setContent("Location found."),t.setCenter(o)},function(){e(!0,n,t.getCenter())}):e(!1,n,t.getCenter())},initMap=function(){var e=new google.maps.Map(document.getElementById("google-map"),{center:{lat:50.5025888,lng:30.600366500000064},zoom:1});setTimeout(function(){for(var t=0;t<schoolsClone.length;t++){var n=schoolsClone[t];new google.maps.Marker({position:new google.maps.LatLng(n.lat,n.lng),map:e,title:n.title})}},1e3)};document.addEventListener("DOMContentLoaded",function(){var e=document.getElementById("search-input");e.addEventListener("click",function(e){this.classList.toggle("focus"),e.stopPropagation()}),document.getElementById("geolocation-trigger").addEventListener("click",function(){initGeoLocation(),e.classList.remove("focus")}),document.addEventListener("click",function(){e.classList.remove("focus")})});